CREATE SCHEMA IF NOT EXISTS BDEX5_EVENTOS;
USE BDEX5_EVENTOS;

CREATE TABLE IF NOT EXISTS PARTICIPANTES(
NUM_INSCRICAO INT,
CPF VARCHAR(20),
NOME VARCHAR(100) NOT NULL,
DATA_NASC DATE NOT NULL,
EMPRESA VARCHAR(100),
PRIMARY KEY(NUM_INSCRICAO,CPF));

CREATE TABLE IF NOT EXISTS LOCAIS(
ID_LOCAL INT PRIMARY KEY,
NOME VARCHAR(100) NOT NULL,
LOG_LOCAL VARCHAR(100) NOT NULL,
NUMLOG_LOCAL INT,
BAIRRO_LOCAL VARCHAR(100) NOT NULL,
CIDADE VARCHAR(100) NOT NULL,
UF CHAR(2) NOT NULL,
CEP VARCHAR(20) NOT NULL,
CAPACIDADE INT NOT NULL);

CREATE TABLE IF NOT EXISTS EVENTOS(
ID_EVENTO INT PRIMARY KEY,
NOME_EVENTO VARCHAR(100) NOT NULL,
DATA_EVENTO DATE NOT NULL,
ENTIDADE_EVENTO VARCHAR(100) NOT NULL,
LOCAL_EVENTO INT NOT NULL,
CONSTRAINT LCL_EVT FOREIGN KEY(LOCAL_EVENTO) REFERENCES LOCAIS(ID_LOCAL));

CREATE TABLE IF NOT EXISTS ATIVIDADES(
ID_ATIVIDADE INT PRIMARY KEY,
NOME_ATV VARCHAR(100) NOT NULL,
DATA_ATV DATE NOT NULL,
HORA_ATV TIME NOT NULL,
EVENTO_ATV INT NOT NULL,
CONSTRAINT EVT_ATV FOREIGN KEY(EVENTO_ATV)REFERENCES EVENTOS(ID_EVENTO));

CREATE TABLE IF NOT EXISTS PARTICIPANTE_ATIVIDADE(
INSCRICAO INT,
CPF VARCHAR(20),
ATIVIDADE INT,
PRIMARY KEY(INSCRICAO, CPF, ATIVIDADE),
CONSTRAINT PA1 FOREIGN KEY(INSCRICAO,CPF) REFERENCES PARTICIPANTES(NUM_INSCRICAO,CPF),
CONSTRAINT PA2 FOREIGN KEY(ATIVIDADE) REFERENCES ATIVIDADES(ID_ATIVIDADE));

CREATE TABLE IF NOT EXISTS PARTICIPANTE_EVENTO(
INSCRICAO INT,
CPF VARCHAR(20),
EVENTO INT,
PRIMARY KEY(INSCRICAO, CPF, EVENTO),
CONSTRAINT PE1 FOREIGN KEY(INSCRICAO,CPF) REFERENCES PARTICIPANTES(NUM_INSCRICAO,CPF),
CONSTRAINT PE2 FOREIGN KEY(EVENTO) REFERENCES EVENTOS(ID_EVENTO));


INSERT INTO PARTICIPANTES (NUM_INSCRICAO, CPF, NOME, DATA_NASC, EMPRESA)
VALUES
    (1, '123.456.789-00', 'João Silva', '1990-05-15', 'Tech Solutions'),
    (2, '987.654.321-00', 'Maria Oliveira', '1985-10-20', 'Marketing Expert'),
    (3, '111.222.333-00', 'Carlos Santos', '1995-03-25', 'Healthcare Innovations'),
    (4, '444.555.666-00', 'Ana Pereira', '1988-07-12', 'Finance Consulting'),
    (5, '777.888.999-00', 'Luiza Mendes', '1992-11-30', 'Fashion Trends');

INSERT INTO LOCAIS (ID_LOCAL, NOME, LOG_LOCAL, NUMLOG_LOCAL, BAIRRO_LOCAL, CIDADE, UF, CEP, CAPACIDADE)
VALUES
    (1, 'Centro de Convenções', 'Av. Principal', 123, 'Centro', 'São Paulo', 'SP', '12345-678', 1000),
    (2, 'Centro de Eventos', 'Rua das Flores', 456, 'Centro', 'Rio de Janeiro', 'RJ', '98765-432', 800),
    (3, 'Auditório Municipal', 'Av. das Palmeiras', 789, 'Jardim Botânico', 'Curitiba', 'PR', '54321-876', 500),
    (4, 'Salão Nobre', 'Rua dos Girassóis', 101, 'Barro Preto', 'Belo Horizonte', 'MG', '87654-321', 1200),
    (5, 'Teatro Municipal', 'Av. da Praia', 112, 'Barra', 'Salvador', 'BA', '23456-789', 700);

INSERT INTO EVENTOS (ID_EVENTO, NOME_EVENTO, DATA_EVENTO, ENTIDADE_EVENTO, LOCAL_EVENTO)
VALUES
    (1, 'Congresso de Tecnologia', '2024-08-15', 'Tech Solutions', 1),
    (2, 'Seminário de Marketing', '2024-09-20', 'Marketing Expert', 2),
    (3, 'Conferência de Saúde', '2024-10-25', 'Healthcare Innovations', 3),
    (4, 'Workshop de Finanças', '2024-11-30', 'Finance Consulting', 4),
    (5, 'Feira de Moda', '2024-12-05', 'Fashion Trends', 5);
INSERT INTO ATIVIDADES (ID_ATIVIDADE, NOME_ATV, DATA_ATV, HORA_ATV, EVENTO_ATV)
VALUES
    (1, 'Palestra sobre Inovação', '2024-08-15', '09:00:00', 1),
    (2, 'Oficina de Marketing Digital', '2024-09-20', '10:30:00', 2),
    (3, 'Mesa Redonda sobre Saúde Mental', '2024-10-25', '11:00:00', 3),
    (4, 'Treinamento de Gestão Financeira', '2024-11-30', '14:00:00', 4),
    (5, 'Desfile de Moda', '2024-12-05', '15:30:00', 5);
INSERT INTO PARTICIPANTE_ATIVIDADE (INSCRICAO, CPF, ATIVIDADE)
VALUES
    (1, '123.456.789-00', 1),
    (2, '987.654.321-00', 2),
    (3, '111.222.333-00', 3),
    (4, '444.555.666-00', 4),
    (5, '777.888.999-00', 5);
    
    
